#  代码服务器指引

---

### 〇、开发流程

![gitlab 开发流程图](http://my_domain.com/gitlab/src/gitlab_flow.png)

* 只有项目的所有者（维护者）可以删除项目，其他成员不能进行此操作

---

### 一、gitlab 的管理原则

#### 管理员

* 只创建成员、群组，不作具体项目的日常管理（因为管理员权限过大，所以要尽量避免其误操作）

* 公共项目只能由管理员创建，不能由普通用户创建（因为普通用户要参与日常维护，所以要防止其误删）

* 创建群组时：

    * 注意设置组员的最高权限
    
    * 每个用户，尽量只归属于一个组，避免跨组
    
    * 按照成员的工作属性分组，如：硬件组，算法组、销售组等等

#### 普通用户

* 不能创建群组（避免群组混乱以及权限越界）

* 允许创建私人项目（必要时可以向管理员申请成为公共项目）

* 参与所属项目的日常开发和维护

---

### 二、公共项目的管理原则

* 管理员创建项目后，以群组的方式添加项目成员，避免用单个用户方式添加

* 根据组的属性分配权限

#### 分支管理：

* 主分支：master
    
    * 严格保护的分支

    * 禁止 `push` 和 `merge` 操作
    
    * 当真的需要更新合并时，由管理员暂时解除merge保护，进行合并，完成后重新设置保护
    
    * 每次新合并都打上一个 tags ，表示版本

* 子分支：develop

    * 用于日常开发
    
    * 允许成员申请 `merge` ，但禁止 `push` 
    
    * 只能由管理员确认合并
    
    * 当累积到一定的开发量后，可以申请合并到主分支上

---

### 三、项目成员的权限

* [gitlab项目成员权限](http://my_domain.com/gitlab/gitlab_permissions.html)